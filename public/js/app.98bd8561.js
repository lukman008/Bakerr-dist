(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],d=0,v=[];d<s.length;d++)i=s[d],r[i]&&v.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(v.length)v.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"204b":function(t,e,n){},"3e6b":function(t,e,n){"use strict";var a=n("998f"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("bb71"),o=(n("da64"),n("5363"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[n("v-content",[n("router-view")],1)],1)}),i=[],s={name:"Bakerr",data:function(){return{}}},l=s,c=n("2877"),u=n("6544"),d=n.n(u),v=n("7496"),p=n("549c"),m=Object(c["a"])(l,o,i,!1,null,null,null),f=m.exports;d()(m,{VApp:v["a"],VContent:p["a"]});var h=n("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[t._l(t.menus,function(e){return[e.heading?n("v-layout",{key:e.heading,attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[e.heading?n("v-subheader",[t._v("\n              "+t._s(e.heading)+"\n            ")]):t._e()],1),n("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[t._v("EDIT")])])],1):e.children?n("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(n){t.$set(e,"model",n)},expression:"item.model"}},[n("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                "+t._s(e.text)+"\n              ")])],1)],1),t._l(e.children,function(e,a){return n("v-list-tile",{key:a,on:{click:function(n){"add"==e.icon&&t.new_sig()}}},[e.icon?n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1):n("v-list-tile-action",[n("v-icon",{attrs:{small:""}},[t._v("mdi-key")])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n                "+t._s(e.text||e.name)+"\n              ")])],1),"SUPER"===e.type?n("v-list-tile-action",[n("v-icon",{attrs:{small:"",color:"accent"}},[t._v("verified_user")])],1):t._e()],1)})],2):n("v-list-tile",{key:e.text,on:{click:function(t){e.action&&e.action()}}},[n("v-list-tile-action",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-tile-content",[n("v-list-tile-title",[t._v("\n              "+t._s(e.text)+"\n            ")])],1)],1)]})],2)],1),n("v-toolbar",{attrs:{app:"",fixed:""}},[n("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("span",{staticClass:"hidden-sm-and-down"},[t._v("Bakerr Pay")])],1),n("v-spacer"),n("v-btn-toggle",{attrs:{block:""},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},[n("v-btn",{staticClass:"elevation-0",attrs:{to:"/vendors",block:"",depressed:"",color:"accent",large:"",value:"vendors"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp||"vendors"==t.$route.name,expression:"$vuetify.breakpoint.mdAndUp || $route.name == 'vendors' "}]},[t._v("VENDORS")]),n("v-icon",{attrs:{medium:""}},[t._v("mdi-account-multiple")])],1),n("v-btn",{attrs:{to:"/history",depressed:"",block:"",color:"accent",large:"",value:"center"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp||"history"==t.$route.name,expression:"$vuetify.breakpoint.mdAndUp || $route.name == 'history' "}]},[t._v("PAYMENT HISTORY")]),n("v-icon",{attrs:{medium:""}},[t._v("mdi-history")])],1),n("v-btn",{attrs:{to:"/pay",depressed:"",color:"primary",large:"",value:"justify"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.mdAndUp||"pay"==t.$route.name,expression:"$vuetify.breakpoint.mdAndUp || $route.name == 'pay' "}]},[t._v("PAY AN INVOICE")]),n("v-icon",[t._v("mdi-cash-multiple")])],1)],1)],1),n("v-content",{staticStyle:{padding:"0"}},[t.isLoading?n("v-progress-linear",{attrs:{indeterminate:"",color:"accent"}}):t._e(),t.hasLoaded?n("router-view",{attrs:{payments:t.payments,vendors:t.vendors},on:{reload:function(e){return t.getSignatories()}}}):t._e(),t.isLoading||t.hasLoaded?t._e():n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{"align-center":"","justify-center":"",row:"",layout:"",wrap:""}},[n("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:""}},[n("v-icon",{attrs:{size:"144"}},[t._v("mdi-server-remove")])],1),n("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:""}},[n("p",{staticClass:"subheading",staticStyle:{"text-align":"center"}},[t._v("\n                A network error occured, please try again\n              ")])]),n("v-flex",{staticStyle:{"text-align":"center"},attrs:{xs12:""}},[n("v-btn",{attrs:{color:"pink lighten-1 white--text"},on:{click:function(e){return t.getSignatories()}}},[t._v("RELOAD")])],1)],1)],1)],1),n("v-footer",{staticStyle:{"padding-bottom":"30px"},attrs:{color:"transparent",fixed:"",inset:""}},[n("v-toolbar",{staticClass:"elevation-0",attrs:{color:"transparent","full-width":""}},[n("v-spacer")],1)],1),n("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.newSig,callback:function(e){t.newSig=e},expression:"newSig"}},[n("v-card",{attrs:{dark:""}},[n("v-toolbar",{attrs:{color:"accent"}},[n("v-toolbar-title",[t._v("ADD NEW SIGNATORY")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){t.newSig=!1}}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-card-text",[n("NewSig",{ref:"new_signatory"})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{loading:t.isLoading,flat:"",color:"accent"},on:{click:function(e){return t.retrieve()}}},[t._v("\n                  SUBMIT\n                ")])],1)],1)],1),n("v-snackbar",{model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n    "+t._s(t.snackText)+"\n    "),n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n      Close\n    ")])],1)],1)},b=[],k=(n("7f7f"),n("ac6a"),n("bc3a")),x=n.n(k),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"_form",attrs:{"lazy-validation":""},model:{value:t.validSignatory,callback:function(e){t.validSignatory=e},expression:"validSignatory"}},[n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.emailRules,color:"accent",label:"Signatory email"},model:{value:t.signatory.email,callback:function(e){t.$set(t.signatory,"email",e)},expression:"signatory.email"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-combobox",{attrs:{color:"accent",items:t.types,label:"Authorization level",required:"",rules:t.reqRules},model:{value:t.signatory.type,callback:function(e){t.$set(t.signatory,"type",e)},expression:"signatory.type"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.bvnRules,counter:"11",type:"tel",color:"accent",label:"Bank Verification Number"},model:{value:t.signatory.bvn,callback:function(e){t.$set(t.signatory,"bvn",e)},expression:"signatory.bvn"}})],1)],1)],1)],1)},w=[],_={name:"NewSignatory",methods:{collect:function(){if(this.$refs._form.validate())return this.signatory}},data:function(){return{signatory:{bvn:""},validSignatory:!1,isLoading:!1,accountErrors:[],validAccount:!1,accountLoading:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],reqRules:[function(t){return!!t||"This field is required"}],bvnRules:[function(t){return!!t||"BVN is required"},function(t){return 11==t.length||"BVN must be 11 characters"}],types:["REGULAR","SUPER"]}}},V=_,S=n("2b5d"),T=n("a523"),L=n("0e8f"),C=n("4bd4"),A=n("a722"),$=n("2677"),E=Object(c["a"])(V,y,w,!1,null,null,null),B=E.exports;d()(E,{VCombobox:S["a"],VContainer:T["a"],VFlex:L["a"],VForm:C["a"],VLayout:A["a"],VTextField:$["a"]});var N={components:{NewSig:B},data:function(){return{showSnack:!1,snackText:null,signatory:{},dialog:!1,newSig:!1,drawer:null,hasLoaded:!1,current:null,isLoading:!0,signatories:[],vendors:[],payments:[],menus:[{icon:"mdi-account-key","icon-alt":"mdi-account-key",text:"Signatories",model:!1,children:[{icon:"add",text:"Add new"}]},{icon:"chat_bubble",text:"Send feedback",to:"#"},{icon:"help",text:"Help",to:"#"},{icon:"mdi-logout",text:"Log out",to:"/login",action:this.signout}]}},props:{source:String},methods:{new_sig:function(){this.newSig=!this.newSig},signout:function(){var t=this;this.isLoading=!0,x.a.post("https://bakerrpay.herokuapp.com/api/auth/signout",{},{withCredentials:!0}).then(function(e){t.getSignatories()})},retrieve:function(){var t=this,e=this.$refs.new_signatory.collect();e&&(this.isLoading=!0,x.a.post("https://bakerrpay.herokuapp.com/api/signatories",e).then(function(e){t.isLoading=!1,console.log(e),"OK"==e.data.state?(t.newSig=!1,t.$refs.new_signatory.$refs._form.reset(),t.snackText="New signatory added successfully, signatory should log on to complete registration",t.getSignatories(),t.showSnack=!0):(t.newSig=!1,t.$refs.new_signatory.$refs._form.reset(),t.showSnack=!0,t.snackText=e.data.state)}).catch(function(e){t.showSnack=!0,t.snackText="Oooops! An error occured, try again",t.isLoading=!1,console.log(e)}))},getSignatories:function(){var t=this;this.isLoading=!0,this.hasLoaded=!1,x()({url:"https://bakerrpay.herokuapp.com/api/signatories",method:"GET",withCredentials:!0}).then(function(e){t.isLoading=!1,t.signatories=e.data.payload,t.menus[0].children=[{icon:"add",text:"Add new"}],t.signatories.forEach(function(e){t.menus[0].children.push(e)}),t.getVendors()}).catch(function(e){t.isLoading=!1,403==e.response.status&&t.$router.push({name:"login"})})},getVendors:function(){var t=this;this.isLoading=!0,this.hasLoaded=!1,x()({url:"https://bakerrpay.herokuapp.com/api/vendors",method:"GET",withCredentials:!0}).then(function(e){t.vendors=e.data.payload,t.getPayments()}).catch(function(e){t.isLoading=!1,403==e.response.status&&t.$router.push({name:"login"})})},getPayments:function(){var t=this;this.isLoading=!0,this.hasLoaded=!1,x()({url:"https://bakerrpay.herokuapp.com/api/pay",method:"GET",withCredentials:!0}).then(function(e){t.isLoading=!1,t.payments=e.data.payload,t.hasLoaded=!0}).catch(function(e){t.isLoading=!1,403==e.response.status&&t.$router.push({name:"login"})})}},mounted:function(){this.current=this.$route.name,this.getSignatories()}},D=N,R=(n("3e6b"),n("8336")),P=n("a609"),O=n("b0af"),q=n("99d9"),F=n("169a"),I=n("553a"),j=n("132d"),M=n("8860"),U=n("56b0"),z=n("ba95"),H=n("40fe"),K=n("5d23"),Y=n("f774"),G=n("8e36"),W=n("2db4"),J=n("9910"),X=n("e0c7"),Z=n("71d9"),Q=n("706c"),tt=n("2a7f"),et=Object(c["a"])(D,g,b,!1,null,"309454b8",null),nt=et.exports;d()(et,{VApp:v["a"],VBtn:R["a"],VBtnToggle:P["a"],VCard:O["a"],VCardActions:q["a"],VCardText:q["b"],VContainer:T["a"],VContent:p["a"],VDialog:F["a"],VFlex:L["a"],VFooter:I["a"],VIcon:j["a"],VLayout:A["a"],VList:M["a"],VListGroup:U["a"],VListTile:z["a"],VListTileAction:H["a"],VListTileContent:K["b"],VListTileTitle:K["d"],VNavigationDrawer:Y["a"],VProgressLinear:G["a"],VSnackbar:W["a"],VSpacer:J["a"],VSubheader:X["a"],VToolbar:Z["a"],VToolbarSideIcon:Q["a"],VToolbarTitle:tt["a"]});var at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"dummy-bg--wrapper",style:{"background-image":"url("+t.bg}}),n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-slide-x-transition",[n("v-form",{ref:"login_form",staticStyle:{height:"100%"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"accent"}},[n("v-toolbar-title",[t._v("Sign in")]),n("v-spacer")],1),n("v-card-text",{staticStyle:{padding:"20px"}},[n("v-form",[n("v-text-field",{attrs:{color:"accent",required:"",rules:t.emailRules,"prepend-icon":"person",name:"login",label:"Email",type:"text"},model:{value:t.auth.email,callback:function(e){t.$set(t.auth,"email",e)},expression:"auth.email"}}),n("v-text-field",{attrs:{color:"accent","prepend-icon":"lock",rules:t.passwordRules,name:"password",label:"Password",id:"password",type:"password"},model:{value:t.auth.password,callback:function(e){t.$set(t.auth,"password",e)},expression:"auth.password"}})],1)],1),n("v-card-actions",{staticStyle:{padding:"20px"}},[n("v-btn",{staticStyle:{"text-transform":"none"},attrs:{to:"/register",flat:"",color:"white"}},[t._v("I'm new here")]),n("v-spacer"),n("v-btn",{attrs:{loading:t.isLoading,color:"accent"},on:{click:function(e){return t.submit()}}},[t._v("Login")])],1)],1)],1)],1)],1),n("v-snackbar",{attrs:{color:"pink lighten-1"},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n      "+t._s(t.snackText)+"\n      "),n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.showSnack=!1}}},[t._v("\n        Close\n      ")])],1)],1)],1)],1)],1)],1)},rt=[],ot=n("d68e"),it=n.n(ot),st={methods:{submit:function(){var t=this;this.$refs.login_form.validate(),this.isLoading=!0,x()({url:"https://bakerrpay.herokuapp.com/api/auth/signin",method:"POST",withCredentials:!0,data:this.auth}).then(function(e){console.log(e),"OK"==e.data.state&&t.$router.push({name:"home"})}).catch(function(e){return t.isLoading=!1,401==e.response.status?(t.snackText="Email or password is incorrect",void(t.showSnack=!0)):404==e.response.status?(t.snackText="No user found with this email address",void(t.showSnack=!0)):(t.snackText="Ooooops! A network error occured, please try again",void(t.showSnack=!0))})}},data:function(){return{showSnack:!1,snackText:null,valid:!1,bg:it.a,drawer:null,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],passwordRules:[function(t){return!!t||"Password is required"}],isLoading:!1,auth:{email:"",password:""}}},props:{source:String}},lt=st,ct=(n("cdad"),n("0789")),ut=Object(c["a"])(lt,at,rt,!1,null,null,null),dt=ut.exports;d()(ut,{VApp:v["a"],VBtn:R["a"],VCard:O["a"],VCardActions:q["a"],VCardText:q["b"],VContainer:T["a"],VContent:p["a"],VFlex:L["a"],VForm:C["a"],VLayout:A["a"],VSlideXTransition:ct["c"],VSnackbar:W["a"],VSpacer:J["a"],VTextField:$["a"],VToolbar:Z["a"],VToolbarTitle:tt["a"]});var vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"dummy-bg--wrapper",style:{"background-image":"url("+t.bg}}),n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-form",{ref:"reg_form",staticClass:"fill-height",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-slide-x-transition",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"accent"}},[n("v-toolbar-title",[t._v("Register")]),n("v-spacer")],1),n("v-card-text",{staticStyle:{padding:"20px"}},[n("v-form",[n("v-text-field",{attrs:{required:"",rules:t.emailRules,color:"accent","prepend-icon":"mdi-email",name:"email",label:"Email",type:"text"},model:{value:t.signatory.email,callback:function(e){t.$set(t.signatory,"email",e)},expression:"signatory.email"}}),n("v-text-field",{attrs:{required:"",rules:t.bvnRules,color:"accent","prepend-icon":"mdi-radiobox-blank",counter:"11",name:"bvn",label:"Banking Verification Number",type:"tel"},model:{value:t.signatory.bvn,callback:function(e){t.$set(t.signatory,"bvn",e)},expression:"signatory.bvn"}}),n("v-text-field",{attrs:{required:"",rules:t.passwordRules,color:"accent","prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password"},model:{value:t.signatory.password,callback:function(e){t.$set(t.signatory,"password",e)},expression:"signatory.password"}}),n("v-text-field",{attrs:{required:"",rules:t.rePasswordRule,color:"accent","prepend-icon":"lock",name:"password",label:"Password again",id:"repassword",type:"password"},model:{value:t.rePassword,callback:function(e){t.rePassword=e},expression:"rePassword"}})],1)],1),n("v-card-actions",{staticStyle:{padding:"20px"}},[n("v-btn",{staticStyle:{"text-transform":"none"},attrs:{to:"/login",flat:"",color:"white"}},[t._v("I already have an account")]),n("v-spacer"),n("v-btn",{attrs:{loading:t.isLoading,color:"accent"},on:{click:function(e){return t.register()}}},[t._v("ACTIVATE")])],1)],1)],1)],1),n("v-snackbar",{attrs:{color:"pink lighten-1"},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n      "+t._s(t.snackText)+"\n      "),n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.showSnack=!1}}},[t._v("\n        Close\n      ")])],1)],1)],1)],1)],1)],1)],1)},pt=[],mt={methods:{register:function(){var t=this;this.$refs.reg_form.validate()&&(this.isLoading=!0,x()({url:"https://bakerrpay.herokuapp.com/api/signatories/".concat(this.signatory.bvn,"/activate"),method:"POST",data:this.signatory,withCredentials:!0}).then(function(e){200==e.status?(t.isLoading=!1,t.$router.push({name:"home"})):(t.isLoading=!1,t.snackText="Something went wrong activating your account, please verify your BVN with your supervisor",t.showSnack=!0)}).catch(function(e){t.snackText="Ooooops! A network error occured, please try again",t.showSnack=!0,t.isLoading=!1}))}},data:function(){var t=this;return{valid:!1,bg:it.a,signatory:{bvn:"",password:"",email:""},showSnack:!1,snackText:null,isLoading:!1,passwordRules:[function(t){return!!t||"Password is requred"},function(t){return t.length>=8||"Password must be at least 8 characters"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],rePassword:"",rePasswordRule:[function(t){return!!t||"Passwords don't match"},function(e){return e==t.signatory.password||"Passwords don't match"}],nameRules:[function(t){return!!t||"Name is required"},function(t){return t.length<=10||"Name must be less than 10 characters"}],bvnRules:[function(t){return!!t||"BVN is required"},function(t){return 11==t.length||"BVN must be 11 characters"}]}},props:{source:String}},ft=mt,ht=(n("cea9"),Object(c["a"])(ft,vt,pt,!1,null,null,null)),gt=ht.exports;d()(ht,{VApp:v["a"],VBtn:R["a"],VCard:O["a"],VCardActions:q["a"],VCardText:q["b"],VContainer:T["a"],VContent:p["a"],VFlex:L["a"],VForm:C["a"],VLayout:A["a"],VSlideXTransition:ct["c"],VSnackbar:W["a"],VSpacer:J["a"],VTextField:$["a"],VToolbar:Z["a"],VToolbarTitle:tt["a"]});var bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-slide-x-transition",[n("v-container",{attrs:{fluid:""}},[n("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("v-tooltip",{attrs:{slot:"activator",top:""},slot:"activator"},[n("v-btn",{attrs:{slot:"activator",color:"pink lighten-1 white--text",dark:"",small:"",fixed:"",bottom:"",right:"",large:"",fab:""},slot:"activator"},[n("v-icon",[t._v("add")])],1),n("span",[t._v("Add a vendor")])],1),n("v-card",[n("v-toolbar",{attrs:{color:"accent"}},[n("v-toolbar-title",[t._v("ADD NEW VENDOR")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.closeDialog()}}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-card-text",[n("NewVendor",{ref:"new_vendor"})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{loading:t.isLoading,flat:"",color:"accent"},on:{click:function(e){return t.retrieve()}}},[t._v("\n                SUBMIT\n              ")])],1)],1)],1),n("v-dialog",{attrs:{persistent:"",width:"500"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[n("v-card",[n("v-toolbar",{attrs:{color:"accent"}},[n("v-toolbar-title",[t._v("EDIT VENDOR")]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){t.editDialog=!1}}},[n("v-icon",[t._v("mdi-close")])],1)],1),n("v-card-text",[n("EditVendor",{ref:"edit_vendor",attrs:{preset:t.current}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{loading:t.isSaving,flat:"",color:"accent"},on:{click:function(e){return t.submitEdit()}}},[t._v("\n                SUBMIT\n              ")])],1)],1)],1),n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.vendors,function(e){return n("v-flex",{key:e.vendor_name,staticStyle:{padding:"10px"},attrs:{xs12:""}},[n("v-list",{attrs:{"three-line":""}},[n("v-list-tile",{staticStyle:{"margin-top":"10px"},attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",[t._v("mdi-account-box")])],1),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.vendor_name)}}),n("v-list-tile-sub-title",{staticClass:"overflow-hidden caption"},[t._v(t._s(e.description))]),n("v-list-tile-sub-title",[n("v-icon",{attrs:{small:""}},[t._v("mdi-bank")]),n("strong",[t._v(t._s(" "+e.bank_name+" - "+t.encode(e.account_number)))])],1)],1),n("v-list-tile-action",[n("v-menu",{attrs:{"offset-y":""}},[n("v-btn",{attrs:{slot:"activator",color:"white--text",icon:""},slot:"activator"},[n("v-icon",[t._v("mdi-dots-vertical")])],1),n("v-list",t._l(t.actions,function(a,r){return n("v-list-tile",{key:r,on:{click:function(t){return a.action(e._id)}}},[n("v-list-tile-avatar",[n("v-icon",{attrs:{small:""}},[t._v(t._s(a.icon))])],1),n("v-list-tile-title",[t._v(t._s(a.title))])],1)}),1)],1)],1)],1)],1)],1)}),1),n("v-dialog",{attrs:{width:"500"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline red lighten-2",attrs:{"primary-title":""}},[t._v("\n      Delete vendor\n    ")]),n("v-card-text",[t._v("\n      Are you sure you want to delete "+t._s(t.toDelete.name)+" from your list?\n    ")]),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red lighten-2",flat:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("\n        DISMISS\n      ")]),n("v-spacer"),n("v-btn",{attrs:{color:"accent",flat:"",loading:t.isDeleting},on:{click:function(e){return t.removeVend(t.toDelete)}}},[t._v("\n        Yes\n      ")])],1)],1)],1),n("v-snackbar",{attrs:{color:"pink lighten-1"},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n  "+t._s(t.snackText)+"\n  "),n("v-btn",{attrs:{dark:"",flat:"",left:""},on:{click:function(e){t.showSnack=!1}}},[t._v("\n    Close\n  ")])],1)],1)],1)},kt=[],xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"_form",attrs:{"lazy-validation":""},model:{value:t.validVendor,callback:function(e){t.validVendor=e},expression:"validVendor"}},[n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.reqRules,color:"accent",label:"Vendor name"},model:{value:t.vendor.vendor_name,callback:function(e){t.$set(t.vendor,"vendor_name",e)},expression:"vendor.vendor_name"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.emailRules,color:"accent",label:"Vendor email"},model:{value:t.vendor.email,callback:function(e){t.$set(t.vendor,"email",e)},expression:"vendor.email"}})],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-combobox",{attrs:{color:"accent",items:t.banks,label:"Bank name",required:"",rules:t.reqRules},on:{change:function(e){return t.resolve()}},model:{value:t.vendor.bank,callback:function(e){t.$set(t.vendor,"bank",e)},expression:"vendor.bank"}})],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-text-field",{attrs:{rules:t.acctRules,counter:"10",error:!t.validAccount,loading:t.accountLoading,"error-messages":t.accountErrors,hint:t.vendor.account_name,"persistent-hint":"",disabled:null==t.vendor.bank,color:"accent",label:"Account Number"},on:{keyup:function(e){return t.resolve()}},model:{value:t.vendor.account_number,callback:function(e){t.$set(t.vendor,"account_number",e)},expression:"vendor.account_number"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{rules:t.reqRules,color:"accent",hint:"Other details about this vendor, services provided, etc",label:"Description"},model:{value:t.vendor.description,callback:function(e){t.$set(t.vendor,"description",e)},expression:"vendor.description"}})],1)],1)],1)],1)},yt=[],wt={name:"NewVendor",props:{preset:{type:Object,required:!1}},methods:{collect:function(){if(this.$refs._form.validate())return this.vendor},resolve:function(){var t=this;if(this.vendor.account_name=null,this.validAccount=!1,this.accountErrors=[],null!=this.vendor.account_number&&!(this.vendor.account_number.length<10)){if(this.vendor.account_number.length<10)return this.validAccount=!1,void(this.accountErrors=["Invalid NUBAN account number"]);this.accountLoading=!0,x.a.get("https://bakerrpay.herokuapp.com/api/meta/resolve_account/".concat(this.vendor.account_number,"/").concat(this.vendor.bank.value)).then(function(e){t.accountErrors=[],t.validAccount=!0,t.vendor.account_name=e.data.payload.account_name,t.accountLoading=!1}).catch(function(e){t.validAccount=!1,t.accountLoading=!1,400==e.response.status?t.accountErrors=["Invalid NUBAN account number"]:t.accountErrors=["Couldn't resolve account number, try again"]})}}},watch:{preset:{handler:function(t){t.vendor_name&&(this.vendor=t)},deep:!0}},data:function(){return{vendor:{account_number:null},validVendor:!1,isLoading:!1,accountErrors:[],validAccount:!1,accountLoading:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],reqRules:[function(t){return!!t||"This field is required"}],acctRules:[function(t){return!!t||"Invalid NUBAN account number"}],banks:[{text:"Access Bank",value:"044"},{text:"Citibank",value:"023"},{text:"Diamond Bank",value:"063"},{text:"Dynamic Standard Bank",value:""},{text:"Ecobank Nigeria",value:"050"},{text:"Fidelity Bank Nigeria",value:"070"},{text:"First Bank of Nigeria",value:"011"},{text:"First City Monument Bank",value:"214"},{text:"Guaranty Trust Bank",value:"058"},{text:"Heritage Bank Plc",value:"030"},{text:"Jaiz Bank",value:"301"},{text:"Keystone Bank Limited",value:"082"},{text:"Providus Bank Plc",value:"101"},{text:"Polaris Bank",value:"076"},{text:"Stanbic IBTC Bank Nigeria Limited",value:"221"},{text:"Standard Chartered Bank",value:"068"},{text:"Sterling Bank",value:"232"},{text:"Suntrust Bank Nigeria Limited",value:"100"},{text:"Union Bank of Nigeria",value:"032"},{text:"United Bank for Africa",value:"033"},{text:"Unity Bank Plc",value:"215"},{text:"Wema Bank",value:"035"},{text:"Zenith Bank",value:"057"}]}}},_t=wt,Vt=n("a844"),St=Object(c["a"])(_t,xt,yt,!1,null,null,null),Tt=St.exports;d()(St,{VCombobox:S["a"],VContainer:T["a"],VFlex:L["a"],VForm:C["a"],VLayout:A["a"],VTextField:$["a"],VTextarea:Vt["a"]});var Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"_form",attrs:{"lazy-validation":""},model:{value:t.validVendor,callback:function(e){t.validVendor=e},expression:"validVendor"}},[n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.reqRules,color:"accent",label:"Vendor name"},model:{value:t.vendor.vendor_name,callback:function(e){t.$set(t.vendor,"vendor_name",e)},expression:"vendor.vendor_name"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.emailRules,color:"accent",label:"Vendor email"},model:{value:t.vendor.email,callback:function(e){t.$set(t.vendor,"email",e)},expression:"vendor.email"}})],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-combobox",{attrs:{color:"accent",items:t.banks,label:"Bank name",required:"",rules:t.reqRules,disabled:""},on:{change:function(e){return t.resolve()}},model:{value:t.vendor.bank,callback:function(e){t.$set(t.vendor,"bank",e)},expression:"vendor.bank"}})],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-text-field",{attrs:{rules:t.acctRules,counter:"10",error:!t.validAccount,loading:t.accountLoading,"error-messages":t.accountErrors,hint:t.vendor.account_name,"persistent-hint":"",disabled:"",color:"accent",label:"Account Number"},on:{keyup:function(e){return t.resolve()}},model:{value:t.vendor.account_number,callback:function(e){t.$set(t.vendor,"account_number",e)},expression:"vendor.account_number"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{rules:t.reqRules,color:"accent",hint:"Other details about this vendor, services provided, etc",label:"Description"},model:{value:t.vendor.description,callback:function(e){t.$set(t.vendor,"description",e)},expression:"vendor.description"}})],1)],1)],1)],1)},Ct=[],At={name:"EditVendor",props:{preset:{type:Object,required:!0}},mounted:function(){},watch:{preset:function(t,e){var n=this;this.vendor=t,this.banks.forEach(function(t){t.value==n.vendor.bank_code&&(n.vendor.bank=t)})}},methods:{collect:function(){if(this.$refs._form.validate())return this.vendor},resolve:function(){var t=this;if(this.vendor.account_name=null,this.validAccount=!1,this.accountErrors=[],null!=this.vendor.account_number&&!(this.vendor.account_number.length<10)){if(this.vendor.account_number.length<10)return this.validAccount=!1,void(this.accountErrors=["Invalid NUBAN account number"]);this.accountLoading=!0,x.a.get("https://bakerrpay.herokuapp.com/api/meta/resolve_account/".concat(this.vendor.account_number,"/").concat(this.vendor.bank.value)).then(function(e){t.accountErrors=[],t.validAccount=!0,t.vendor.account_name=e.data.payload.account_name,t.accountLoading=!1}).catch(function(e){t.validAccount=!1,t.accountLoading=!1,400==e.response.status?t.accountErrors=["Invalid NUBAN account number"]:t.accountErrors=["Couldn't resolve account number, try again"]})}}},data:function(){return{vendor:{account_number:null},validVendor:!1,isLoading:!1,accountErrors:[],validAccount:!1,accountLoading:!1,emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],reqRules:[function(t){return!!t||"This field is required"}],acctRules:[function(t){return!!t||"Invalid NUBAN account number"}],banks:[{text:"Access Bank",value:"044"},{text:"Citibank",value:"023"},{text:"Diamond Bank",value:"063"},{text:"Dynamic Standard Bank",value:""},{text:"Ecobank Nigeria",value:"050"},{text:"Fidelity Bank Nigeria",value:"070"},{text:"First Bank of Nigeria",value:"011"},{text:"First City Monument Bank",value:"214"},{text:"Guaranty Trust Bank",value:"058"},{text:"Heritage Bank Plc",value:"030"},{text:"Jaiz Bank",value:"301"},{text:"Keystone Bank Limited",value:"082"},{text:"Providus Bank Plc",value:"101"},{text:"Polaris Bank",value:"076"},{text:"Stanbic IBTC Bank Nigeria Limited",value:"221"},{text:"Standard Chartered Bank",value:"068"},{text:"Sterling Bank",value:"232"},{text:"Suntrust Bank Nigeria Limited",value:"100"},{text:"Union Bank of Nigeria",value:"032"},{text:"United Bank for Africa",value:"033"},{text:"Unity Bank Plc",value:"215"},{text:"Wema Bank",value:"035"},{text:"Zenith Bank",value:"057"}]}}},$t=At,Et=Object(c["a"])($t,Lt,Ct,!1,null,null,null),Bt=Et.exports;d()(Et,{VCombobox:S["a"],VContainer:T["a"],VFlex:L["a"],VForm:C["a"],VLayout:A["a"],VTextField:$["a"],VTextarea:Vt["a"]});var Nt={props:{vendors:{type:Array,required:!0}},components:{NewVendor:Tt,EditVendor:Bt},methods:{encode:function(t){if(t)return t.slice(0,3)+"******"+t.slice(t.length-3)},confirmDelete:function(t){var e=this;this.vendors.forEach(function(n){n._id==t&&(e.toDelete=n)}),this.deleteDialog=!0},removeVend:function(t){var e=this;this.isDeleting=!0,x()({url:"https://bakerrpay.herokuapp.com/api/vendors/"+t.recipient_code,withCredentials:!0,method:"DELETE"}).then(function(t){e.showSnack=!0,e.snackText=" Vendor deleted ",e.isDeleting=!1,e.deleteDialog=!1,e.$emit("reload")}).catch(function(t){e.showSnack=!0,e.isDeleting=!1,e.snackText="An error occured while deleting vendor, try again"})},editVend:function(t){var e=this;this.vendors.forEach(function(n){n._id==t&&(e.current=n)}),this.editDialog=!0},closeDialog:function(){this.showDialog=!1},submitEdit:function(){var t=this,e=this.$refs.edit_vendor.collect();if(e&&e.account_name){try{e.bank_code=e.bank.value,e.bank_name=e.bank.text,delete e.bank}catch(n){}this.isSaving=!0,x.a.post("https://bakerrpay.herokuapp.com/api/vendors/"+e._id,e,{withCredentials:!0}).then(function(e){t.isSaving=!1,console.log(e),"OK"==e.data.state?(t.editDialog=!1,t.$refs.edit_vendor.$refs._form.reset(),t.snackText="Vendor edited successfully",t.$emit("reload"),t.showSnack=!0):(t.showDialog=!1,t.$refs.edit_vendor.$refs._form.reset(),t.showSnack=!0,t.snackText=e.data.state)}).catch(function(e){t.showSnack=!0,t.snackText="Oooops! An error occured, try again",t.isSaving=!1,console.log(e)})}},retrieve:function(){var t=this,e=this.$refs.new_vendor.collect();if(e&&e.account_name){try{e.bank_code=e.bank.value,e.bank_name=e.bank.text,delete e.bank}catch(n){}this.isLoading=!0,x.a.post("https://bakerrpay.herokuapp.com/api/vendors",e,{withCredentials:!0}).then(function(e){t.isLoading=!1,console.log(e),"OK"==e.data.state?(t.showDialog=!1,t.$refs.new_vendor.$refs._form.reset(),t.snackText="New vendor added successfully",t.$emit("reload"),t.showSnack=!0):(t.showDialog=!1,t.$refs.new_vendor.$refs._form.reset(),t.showSnack=!0,t.snackText=e.data.state)}).catch(function(e){t.showSnack=!0,t.snackText="Oooops! An error occured, try again",t.isLoading=!1,console.log(e)})}}},data:function(){return{showDialog:!1,deleteDialog:!1,isLoading:!1,snackText:null,showSnack:!1,isDeleting:!1,current:{},toDelete:{},editDialog:!1,isSaving:!1,actions:[{title:"Remove",icon:"mdi-delete",action:this.confirmDelete},{title:"Edit",icon:"mdi-pen",action:this.editVend}]}}},Dt=Nt,Rt=n("12b2"),Pt=n("ce7e"),Ot=n("c954"),qt=n("e449"),Ft=n("3a2f"),It=Object(c["a"])(Dt,bt,kt,!1,null,null,null),jt=It.exports;d()(It,{VBtn:R["a"],VCard:O["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:Rt["a"],VContainer:T["a"],VDialog:F["a"],VDivider:Pt["a"],VFlex:L["a"],VIcon:j["a"],VLayout:A["a"],VList:M["a"],VListTile:z["a"],VListTileAction:H["a"],VListTileAvatar:Ot["a"],VListTileContent:K["b"],VListTileSubTitle:K["c"],VListTileTitle:K["d"],VMenu:qt["a"],VSlideXTransition:ct["c"],VSnackbar:W["a"],VSpacer:J["a"],VToolbar:Z["a"],VToolbarTitle:tt["a"],VTooltip:Ft["a"]});var Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-slide-x-transition",[n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{"justify-space-around":"","align-center":"",row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",md7:""}},[n("v-form",{ref:"invoice"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.invRules,color:"accent",label:"Invoice number *","append-outer-icon":"mdi-arrow-left-bold"},on:{"click:append-outer":function(e){return t.generateInv()}},model:{value:t.pay.invoice,callback:function(e){t.$set(t.pay,"invoice",e)},expression:"pay.invoice"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{rules:t.reqRules,color:"accent",label:"Who do you want to pay *",items:t.vendors},scopedSlots:t._u([{key:"item",fn:function(e){return[n("div",[n("v-list-tile",{key:e.item.vendor_name,attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",[t._v("mdi-account-box")])],1),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.vendor_name)}}),n("v-list-tile-sub-title",[n("v-icon",{attrs:{small:""}},[t._v("mdi-bank")]),n("strong",[t._v(t._s(" "+e.item.bank_name+" - "+t.encode(e.item.account_number)))])],1)],1)],1)],1)]}},{key:"selection",fn:function(e){return[n("div",[n("v-list-tile",{key:e.item.vendor_name,attrs:{avatar:""}},[n("v-list-tile-avatar",[n("v-icon",[t._v("mdi-account-box")])],1),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.vendor_name)}}),n("v-list-tile-sub-title",[n("v-icon",{attrs:{small:""}},[t._v("mdi-bank")]),n("strong",[t._v(t._s(" "+e.item.bank_name+" - "+t.encode(e.item.account_number)))])],1)],1)],1)],1)]}}]),model:{value:t.vendor,callback:function(e){t.vendor=e},expression:"vendor"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"How much do you want to pay?",rules:t.amountRules,type:"tel",color:"accent","prepend-icon":"mdi-currency-ngn"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{attrs:{rules:t.reqRules,color:"accent",counter:"140",label:"What are you paying for? *"},model:{value:t.narration,callback:function(e){t.narration=e},expression:"narration"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{rules:t.reqRules,color:"accent","item-disabled":["CREDIT/DEBIT CARD"],label:"How do you want to pay",items:t.methods},model:{value:t.pay.source,callback:function(e){t.$set(t.pay,"source",e)},expression:"pay.source"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{rules:t.reqRules,color:"accent",label:"Password",hint:"Authorise payment",name:"password",type:"password"},model:{value:t.pay.password,callback:function(e){t.$set(t.pay,"password",e)},expression:"pay.password"}})],1)],1)],1)],1),n("v-flex",{staticStyle:{"padding-top":"50px"},attrs:{xs12:"","hidden-sm-and-up":""}},[n("v-divider",{attrs:{color:"white"}})],1),n("v-flex",{attrs:{xs12:"",md4:""}},[t.pay.vendor?n("v-card",{staticStyle:{"margin-bottom":"50px"},attrs:{color:"transparent"}},[n("v-card-text",[n("p",[n("strong",[t._v("RECEPIENT")])]),n("span",{domProps:{innerHTML:t._s(t.pay.vendor.vendor_name)}}),n("br"),n("v-divider",{staticStyle:{"padding-top":"15px"}}),n("p",[n("strong",[t._v("NARRATION")])]),n("span",[t._v(" "+t._s(t.pay.narration)+" ")]),n("p",[n("v-divider")],1),n("p",[t._v("\n                    AMOUNT\n                  ")]),n("v-icon",[t._v("mdi-currency-ngn")]),n("span",{staticClass:"display-2"},[t._v(t._s(t.formatMoney(t.pay.amount))+" ")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{loading:t.isLoading,color:"pink lighten-1 white--text"},on:{click:function(e){return t.retrieve()}}},[t._v("\n                   PAY\n                 ")])],1)],1):t._e()],1)],1),n("v-snackbar",{attrs:{color:"pink lighten-1"},model:{value:t.showSnack,callback:function(e){t.showSnack=e},expression:"showSnack"}},[t._v("\n            "+t._s(t.snackText)+"\n            "),n("v-btn",{attrs:{dark:"",flat:"",left:!0},on:{click:function(e){t.snackbar=!1}}},[t._v("\n              Close\n            ")])],1)],1)],1)},Ut=[],zt=n("0a0d"),Ht=n.n(zt),Kt=(n("a481"),n("c5f6"),n("e814")),Yt=n.n(Kt),Gt=(n("6b54"),{props:{vendors:{type:Array,required:!0},preset:{type:Object,required:!1}},beforeMount:function(){var t=this,e=this.$route.params;console.log(e),null!==e.who&&""!==e.who&&this.vendors.forEach(function(n){n._id==e.who&&(t.vendor=n,t.pay.vendor=n)}),this.pay.amount=e.how_much,this.amount=e.how_much,this.narration=e.why,this.pay.narration=e.why},watch:{pay:{handler:function(t){console.log("Sth changed")},deep:!0},narration:function(t,e){this.pay.narration=t},amount:function(t,e){this.pay.amount=t},vendor:{handler:function(t){console.log("Ven changed"),this.pay.vendor=t,this.$route.params.who=t._id},deep:!0}},data:function(){return{narration:null,amount:null,vendor:{},pay:{invoice:"",source:"PAYSTACK BALANCE"},showSnack:!1,snackText:null,reqRules:[function(t){return!!t||"This field is required"}],invRules:[function(t){return!!t||"This field is required"},function(t){return!isNaN(t)||"Reference must only contain numbers"}],isLoading:!1,amountRules:[function(t){return!!t||"Amount is required"},function(t){return!isNaN(t)||"Invalid amount"}],methods:["PAYSTACK BALANCE"]}},methods:{formatMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{e=Math.abs(e),e=isNaN(e)?2:e;var r=t<0?"-":"",o=Yt()(t=Math.abs(Number(t)||0).toFixed(e)).toString(),i=o.length>3?o.length%3:0;return r+(i?o.substr(0,i)+a:"")+o.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?n+Math.abs(t-o).toFixed(e).slice(2):"")}catch(s){console.log(s)}},encode:function(t){return t.slice(0,3)+"******"+t.slice(t.length-3)},generateInv:function(){this.pay.invoice=Ht()()},retrieve:function(){var t=this;this.$refs.invoice.validate()&&(this.isLoading=!0,x.a.post("https://bakerrpay.herokuapp.com/api/pay",this.pay,{withCredentials:!0}).then(function(e){t.isLoading=!1,console.log(e.data),t.showSnack=!0,t.snackText="SUCCESS: The transfer has been queued. ",setTimeout(function(){e.data.payload.status&&(t.$emit("reload"),t.$router.push({name:"history"}))},3e3)}).catch(function(e){switch(t.isLoading=!1,t.showSnack=!0,console.log(e.response),e.response.status){case 403:t.snackText="Payment Authorization failed.";break;case 400:t.snackText="Something went wrong with your request, please try again.";break;case"":t.snackText="An error occured, please try again";default:t.snackText=e.response.data.payload.message;break}}))}}}),Wt=Gt,Jt=n("b56d"),Xt=Object(c["a"])(Wt,Mt,Ut,!1,null,null,null),Zt=Xt.exports;d()(Xt,{VBtn:R["a"],VCard:O["a"],VCardActions:q["a"],VCardText:q["b"],VContainer:T["a"],VDivider:Pt["a"],VFlex:L["a"],VForm:C["a"],VIcon:j["a"],VLayout:A["a"],VListTile:z["a"],VListTileAvatar:Ot["a"],VListTileContent:K["b"],VListTileSubTitle:K["c"],VListTileTitle:K["d"],VSelect:Jt["a"],VSlideXTransition:ct["c"],VSnackbar:W["a"],VSpacer:J["a"],VTextField:$["a"],VTextarea:Vt["a"]});var Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"full-width",attrs:{fluid:""}},[n("v-toolbar",{staticClass:"elevation-0",attrs:{color:"transparent"}},[n("v-menu",{ref:"start_menu",attrs:{color:"accent","close-on-content-click":!1,"nudge-right":40,"return-value":t.start,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.start=e},"update:return-value":function(e){t.start=e}},model:{value:t.start_menu,callback:function(e){t.start_menu=e},expression:"start_menu"}},[n("v-text-field",{attrs:{slot:"activator",label:"From","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),n("v-date-picker",{attrs:{max:(new Date).toDateString(),"no-title":"",scrollable:""},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(e){t.start_menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(e){return t.$refs.start_menu.save(t.start)}}},[t._v("OK")])],1)],1),n("v-menu",{ref:"end_menu",attrs:{color:"accent","close-on-content-click":!1,"nudge-right":40,"return-value":t.end,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.end=e},"update:return-value":function(e){t.end=e}},model:{value:t.end_menu,callback:function(e){t.end_menu=e},expression:"end_menu"}},[n("v-text-field",{attrs:{slot:"activator",label:"To","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}},[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(e){t.end_menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(e){return t.$refs.end_menu.save(t.end)}}},[t._v("OK")])],1)],1),n("v-spacer"),n("v-text-field",{attrs:{color:"accent","prepend-icon":"mdi-magnify",placeholder:"search"},on:{keyup:function(e){return t.match()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-layout",{attrs:{row:"","justify-start":"","align-start":"",wrap:""}},t._l(t.matched,function(e){return n("v-flex",{key:e._id,staticStyle:{padding:"10px"},attrs:{xs12:""}},[t.withinRange(e)?n("v-list",{attrs:{"three-line":""}},[n("v-list-tile",[n("v-list-tile-avatar",{attrs:{color:"accent"}},[n("v-btn",{attrs:{icon:""},on:{click:function(n){return t.payAgain(e.vendor._id,e.amount,e.narration)}}},[n("v-icon",{attrs:{color:"white"}},[t._v("mdi-redo-variant")])],1)],1),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"title white--text"},[t._v(t._s("     "+e.vendor.vendor_name))]),n("v-list-tile-sub-title",{attrs:{color:"white--text"}},[t._v(t._s(e.narration))]),n("v-list-tile-sub-title",{staticClass:"subheading white--text"},[n("v-icon",[t._v("mdi-currency-ngn")]),t._v(t._s(t.formatMoney(e.amount)))],1)],1),n("v-list-tile-action",[n("v-list-tile-action-text",[t._v("\n                        "+t._s(e.createdOn.slice(0,10))+"\n                    ")]),n("v-list-tile-action-text",[t._v("\n                      "+t._s(e.signatory.name)+"\n                    ")]),"success"==e.status?n("v-icon",{attrs:{color:"green"}},[t._v("mdi-check-circle")]):"pending"==e.status.toLowerCase()?n("v-icon",{attrs:{color:"amber"}},[t._v("mdi-radiobox-marked")]):n("v-icon",{attrs:{color:"red"}},[t._v("mdi-close")])],1)],1)],1):t._e()],1)}),1)],1)},te=[],ee=(n("6762"),n("2fdb"),n("386d"),n("f499")),ne=n.n(ee),ae=(n("4917"),{props:{payments:{type:Array,required:!0}},data:function(){return{search:null,matched:[],ascending:!1,start_menu:!1,start:null,end:null,end_menu:!1,filter:null,filters:[{text:"Today",value:1},{text:"Last 7 days",value:7},{text:"Last 30 days",value:30},{text:"All",value:null}]}},watch:{start:function(t,e){this.match()},end:function(t,e){this.match()},search:function(t,e){this.match()}},computed:{reversedPayments:function(){return this.payments.reverse()}},mounted:function(){this.matched=JSON.parse(ne()(this.reversedPayments))},methods:{withinRange:function(t){if(null==this.filter||this.filter.value)return!0;var e=Date.parse(t.createdOn)/864e5,n=Ht()()/864e5,a=n-e;return console.log(a),this.filter>=a},match:function(){var t=this;if(this.matched=this.reversedPayments,null!==this.search){this.matched=[];var e=this.search.toLowerCase();this.payments.forEach(function(n){(n.vendor.name.toLowerCase().includes(e)||n.narration.toLowerCase().includes(e)||n.signatory.name.toLowerCase().includes(e))&&t.matched.push(n)})}var n=[];this.matched.forEach(function(e){var a=t.start?t.start:"1970-01-01",r=t.end?t.end:t.formatDate((new Date).toDateString()),o=Date.parse(e.createdOn);a=Date.parse(a),r=Date.parse(r),o<=r+864e5&&o>=a&&n.push(e)}),this.matched=n},payAgain:function(t,e,n){this.$router.push({name:"pay",params:{who:t,why:n,how_much:e}})},formatDate:function(t){var e=new Date(t),n=""+(e.getMonth()+1),a=""+e.getDate(),r=e.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[r,n,a].join("-")},formatMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{e=Math.abs(e),e=isNaN(e)?2:e;var r=t<0?"-":"",o=Yt()(t=Math.abs(Number(t)||0).toFixed(e)).toString(),i=o.length>3?o.length%3:0;return r+(i?o.substr(0,i)+a:"")+o.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?n+Math.abs(t-o).toFixed(e).slice(2):"")}catch(s){console.log(s)}}}}),re=ae,oe=n("2e4b"),ie=Object(c["a"])(re,Qt,te,!1,null,null,null),se=ie.exports;d()(ie,{VBtn:R["a"],VContainer:T["a"],VDatePicker:oe["a"],VFlex:L["a"],VIcon:j["a"],VLayout:A["a"],VList:M["a"],VListTile:z["a"],VListTileAction:H["a"],VListTileActionText:K["a"],VListTileAvatar:Ot["a"],VListTileContent:K["b"],VListTileSubTitle:K["c"],VListTileTitle:K["d"],VMenu:qt["a"],VSpacer:J["a"],VTextField:$["a"],VToolbar:Z["a"]}),a["a"].use(h["a"]);var le=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:nt,redirect:{name:"vendors"},children:[{path:"/vendors",name:"vendors",component:jt},{path:"/history",name:"history",component:se},{path:"/pay/:who?/:how_much?/:why?",name:"pay",component:Zt}]},{path:"/login",name:"login",component:dt},{path:"/register",name:"register",component:gt}]}),ce=n("9483");Object(ce["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,a["a"].use(r["a"],{iconfont:"mdi",theme:{primary:"#0B141B",secondary:"#004346",accent:"#09BC8A",error:"#ff4d4d"}}),new a["a"]({router:le,render:function(t){return t(f)}}).$mount("#app")},"998f":function(t,e,n){},cdad:function(t,e,n){"use strict";var a=n("d8be"),r=n.n(a);r.a},cea9:function(t,e,n){"use strict";var a=n("204b"),r=n.n(a);r.a},d68e:function(t,e,n){t.exports=n.p+"img/bg.03c67f05.png"},d8be:function(t,e,n){}});
//# sourceMappingURL=app.98bd8561.js.map